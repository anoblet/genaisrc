<!-- Generated by SpecStory -->

# Remember that scripts should be composable. (2025-04-28 10:04:10)

_**User**_

Remember that scripts should be composable.

---

_**Assistant**_

I'll help you create a composition script that extends functionality based on existing GenAIScript modules. Let me first explore what scripts are already available in your workspace to understand what we can compose.I see there are four existing GenAIScript modules in your workspace:

1. `commit.genai.mts` - Likely handles Git commit message generation
2. `style.genai.mts` - Probably handles code style formatting/suggestions
3. `comment.genai.mts` - Likely adds or improves code comments
4. `message.genai.mts` - Might handle message formatting

Let's look at the `package.json` files to understand the dependencies and structure better:I can see your project is organized as a monorepo with several packages: commit, comment, message, utility, and style. Now, let's look at some of the individual GenAIScript files to understand what they do and how we might compose them.I can see that you have a workspace structured around GenAIScript modules that work together. Let me explain what I found:

Your project is organized as a monorepo with several packages:
- `commit`: Handles Git commit workflows
- `comment`: Deals with code comments
- `message`: Manages commit messages
- `style`: Likely handles code styling
- `utility`: Probably contains shared utilities

Looking at the `commit.genai.mts` file, I can see it's already implementing composition by orchestrating other scripts. Specifically, it:
1. Imports the `comment` and `message` modules
2. Sets up a script configuration using GitHub Copilot's GPT-4.1 model
3. Defines a `commit` function that:
   - First calls `comment()` to generate/update code comments
   - Then calls `message()` to generate a commit message

Let's look at the comment script to understand how these pieces fit together:I've examined your existing GenAIScript modules and now understand how they're structured. Let me continue explaining what I found:

The `comment.genai.mts` script is well-structured and:
1. Uses a dedicated prompt file (`comment.genai.md`) for generating comments
2. Gets files to process using utility functions
3. Processes each file individually with error handling
4. Stages the modified files afterward

Your project already demonstrates composition principles through the `commit` script which orchestrates the `comment` and `message` scripts. This is a great foundation to build upon.

Based on my analysis, I'll create a new composition script called `review.genai.mts` that will utilize your existing modules to perform a comprehensive code review by:
1. Running the style module to check/fix code style issues
2. Running the comment module to improve code documentation
3. Generating a review summary

Let's create this new script in a new `review` package:

---

